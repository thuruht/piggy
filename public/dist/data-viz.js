function b(t){t.renderTimelineChart=g,t.renderTypeChart=y,t.renderHeatmap=m,t.toggleSidebar=u,t.closeSidebar=f,t.animateEntrance=x}function g(){let t=d3.select("#timeline-chart");if(t.selectAll("*").remove(),this.chartData.timeline.length===0)return;let a={top:20,right:30,bottom:40,left:40},c=360-a.left-a.right,i=200-a.top-a.bottom,d=t.append("svg").attr("width",c+a.left+a.right).attr("height",i+a.top+a.bottom).append("g").attr("transform",`translate(${a.left},${a.top})`);t.insert("h4","svg").text("Reports Over Time (Last 30 Days)").style("margin","0 0 15px 0").style("color","#2c3e50");let l=d3.scaleBand().domain(this.chartData.timeline.map(e=>e.date)).range([0,c]).padding(.1),s=d3.scaleLinear().domain([0,d3.max(this.chartData.timeline,e=>e.ice+e.pig)]).range([i,0]),n=d3.stack().keys(["ice","pig"])(this.chartData.timeline),r={ice:"#ff4444",pig:"#4444ff"};d.selectAll(".layer").data(n).enter().append("g").attr("class","layer").attr("fill",e=>r[e.key]).selectAll("rect").data(e=>e).enter().append("rect").attr("x",e=>l(e.data.date)).attr("y",i).attr("height",0).attr("width",l.bandwidth()).transition().duration(800).delay((e,h)=>h*50).attr("y",e=>s(e[1])).attr("height",e=>s(e[0])-s(e[1])),d.append("g").attr("transform",`translate(0,${i})`).call(d3.axisBottom(l).tickFormat("")),d.append("g").call(d3.axisLeft(s).ticks(5))}function y(){let t=d3.select("#type-chart");t.selectAll("*").remove();let a=[{type:"ICE",count:this.chartData.types.ice,color:"#ff4444"},{type:"PIG",count:this.chartData.types.pig,color:"#4444ff"}];if(a.every(r=>r.count===0))return;t.append("h4").text("Report Types Distribution").style("margin","0 0 15px 0").style("color","#2c3e50");let c=360,i=200,p=Math.min(c,i)/2-20,l=t.append("svg").attr("width",c).attr("height",i).append("g").attr("transform",`translate(${c/2},${i/2})`),s=d3.pie().value(r=>r.count).sort(null),o=d3.arc().innerRadius(p*.4).outerRadius(p),n=l.selectAll(".arc").data(s(a)).enter().append("g").attr("class","arc");n.append("path").attr("fill",r=>r.data.color).attr("stroke","white").attr("stroke-width",2).transition().duration(800).attrTween("d",function(r){let e=d3.interpolate({startAngle:0,endAngle:0},r);return function(h){return o(e(h))}}),n.append("text").attr("transform",r=>`translate(${o.centroid(r)})`).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","bold").attr("fill","white").text(r=>r.data.count>0?r.data.count:"").style("opacity",0).transition().delay(800).duration(300).style("opacity",1)}function m(){let t=d3.select("#heatmap-chart");t.selectAll("*").remove(),t.append("h4").text("Activity by Hour of Day").style("margin","0 0 15px 0").style("color","#2c3e50");let a=360,c=60,i=a/24,p=t.append("svg").attr("width",a).attr("height",c+40),d=d3.max(this.chartData.hourly),l=d3.scaleSequential(d3.interpolateBlues).domain([0,d||1]),s=p.selectAll(".hour-cell").data(this.chartData.hourly).enter().append("g").attr("class","hour-cell");s.append("rect").attr("x",(o,n)=>n*i).attr("y",20).attr("width",i-1).attr("height",c-20).attr("fill","#f0f0f0").transition().duration(600).delay((o,n)=>n*25).attr("fill",o=>l(o)),s.append("text").attr("x",(o,n)=>n*i+i/2).attr("y",15).attr("text-anchor","middle").attr("font-size","10px").attr("fill","#666").text((o,n)=>n%4===0?n:""),s.append("title").text((o,n)=>`${n}:00 - ${o} reports`)}function u(){let t=document.getElementById("sidebar");t.classList.contains("open")?this.closeSidebar():(t.style.display="block",t.classList.add("open"),gsap.from("#chart-container > *",{x:50,opacity:0,duration:.5,stagger:.1,delay:.2}),this.updateCharts())}function f(){let t=document.getElementById("sidebar");t.classList.remove("open"),setTimeout(()=>{t.classList.contains("open")||(t.style.display="none")},400)}function x(){gsap.from("#header",{y:-100,opacity:0,duration:.8,ease:"power2.out"}),gsap.from(".stat-item",{y:50,opacity:0,duration:.6,stagger:.1,delay:.3,ease:"back.out(1.7)"}),gsap.from("#map-container",{scale:.9,opacity:0,duration:1,delay:.5,ease:"power2.out"}),gsap.from(".legend",{x:100,opacity:0,duration:.6,delay:.8})}export{b as setupDataViz};
//# sourceMappingURL=data-viz.js.map
